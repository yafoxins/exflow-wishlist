[pytest]
# Конфигурация pytest для Wishlist backend

# Минимальная версия pytest
minversion = 7.0

# Директории для поиска тестов
testpaths = tests

# Опции запуска
addopts =
    -ra
    --strict-markers
    --strict-config
    --showlocals
    --tb=short
    --asyncio-mode=auto

# Маркеры
markers =
    slow: медленные тесты (требуют внешних сервисов)
    integration: интеграционные тесты
    unit: юнит-тесты

# Фильтр предупреждений
filterwarnings =
    error
    ignore::UserWarning
    ignore::DeprecationWarning

# Покрытие кода
[coverage:run]
source = app
omit =
    */tests/*
    */migrations/*
    */__pycache__/*
